{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<br />
<h1 align="center">Posts</h1>
<br />
<div class="m-3" id="posts">
    <div class="row">
        {% for post in posts %}
        {% if post==posts[0] %}
            <div class="col-12">
                <div class="card border-dark text-center mb-4">
                    <div class="card-body">
                        <strong class="d-inline-block mb-2 text-dark">By {{post.owner}}</strong>
                        <h3>
                            <a class="justify-content-start title" href="/posts/{{post.id}}">
                                {{post.title}}
                            </a>
                        </h3>
                        <div class="card-text mb-auto content">{{post.previewBigContent()}}</div>
                    </div>
                    <div class="card-footer text-muted">
                        <div class="br-1 text-muted">Created at: {{post.created_at}}</div>
                        <div class="br-1 text-muted">Modified at: {{post.modified_at}}</div>
                    </div>
                </div>
             </div>
        {% else %}
        <div class="col-md-4">
            <div class="card border-dark text-center card-shadow-hover h-100">
                <div class="card-body">
                    <strong class="d-inline-block mb-2 text-dark">By {{post.owner}}</strong>
                    <h3>
                        <a class="justify-content-start" href="/posts/{{post.id}}">
                            {{post.title}}
                        </a>
                    </h3>
                <div class="btn-group" style="float:right">
                    <button type="button" class="btn btn-group btn-primary dropdown-toggle" data-bs-toggle="dropdown">
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="/posts/edit/{{post.id}}" class="dropdown-item">Edit Post</a></li>
                        <li>
                            <a href="/posts/delete/{{post.id}}" class="dropdown-item delete"
                               data-confirm="Are you sure to delete this item?">Delete</a>
                        </li>
                    </ul>
                </div>
                    <div class="card-text content">{{post.previewContent()}}</div>
                </div>
                <div class="card-footer text-muted">
                    <div class="br-1 text-muted">Created at: {{post.created_at}}</div>
                    <div class="br-1 text-muted">Modified at: {{post.modified_at}}</div>
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}